(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"0I5b":function(t,e){e.__esModule=!0,e.default={body:'<path d="M15 11V5l-3-3l-3 3v2H3v14h18V11h-6zm-8 8H5v-2h2v2zm0-4H5v-2h2v2zm0-4H5V9h2v2zm6 8h-2v-2h2v2zm0-4h-2v-2h2v2zm0-4h-2V9h2v2zm0-4h-2V5h2v2zm6 12h-2v-2h2v2zm0-4h-2v-2h2v2z" fill="currentColor"/>',width:24,height:24}},"5Az/":function(t,e,i){"use strict";i.r(e),i.d(e,"AioTableModule",(function(){return ue}));var o=i("ofXK"),c=i("YUcS"),n=i("M9IT"),r=i("+0xr"),a=i("Dh3D"),l=i("bSwM"),s=i("NFeN"),b=i("bTqV"),u=i("STbY"),m=i("3Pt+"),d=i("Qu3c"),f=i("d3UM"),h=i("jaxi"),p=i("7lCJ"),g=i("68Yx"),v=i("J0XA"),y=i("VX/1"),x=i("tyNb"),C=i("mrSG"),I=i("kmnG"),S=i("0EQZ"),F=i("y3Ys"),X=i("UOrl"),W=i("pN9m"),k=i.n(W),$=i("e3EN"),w=i.n($),M=i("sF+I"),G=i.n(M),z=i("7wwx"),j=i.n(z),L=i("+4LO"),D=i.n(L),E=i("SqwC"),A=i.n(E),H=i("nlA0"),P=i.n(H),N=i("YA1h"),V=i.n(N),R=i("6qw8"),O=i.n(R),T=i("ZkIM"),_=i.n(T),U=i("jtHE"),Q=i("VfN6"),Y=i("pLZG"),K=i("lJxs");class B{constructor(t){this.id=t.id,this.cedula=t.cedula,this.direccion=t.direccion,this.direccion2=t.direccion2,this.email=t.email,this.nombre=t.nombre,this.nombre2=t.nombre2,this.observacion=t.observacion,this.telf1=t.telf1,this.telf2=t.telf2,this.telf3=t.telf3}get name(){let t="";return this.nombre&&this.nombre2?t=this.nombre+" "+this.nombre2:this.nombre?t=this.nombre:this.nombre2&&(t=this.nombre2),t}set name(t){}get address(){return`${this.direccion}, ${this.direccion2}`}set address(t){}}var q=i("XkRS"),Z=i("0IaG"),J=i("+Chm"),tt=i.n(J),et=i("5mnX"),it=i.n(et),ot=i("yHIK"),ct=i.n(ot),nt=i("MzEE"),rt=i.n(nt),at=i("KaaH"),lt=i.n(at),st=i("kSvQ"),bt=i.n(st),ut=i("0I5b"),mt=i.n(ut),dt=i("EPGw"),ft=i.n(dt),ht=i("fXoL"),pt=i("dNgK"),gt=i("/IUn"),vt=i("lTCR"),yt=i.n(vt);let xt=(()=>{class t extends gt.d{constructor(){super(...arguments),this.document=yt.a`
    mutation MyMutation(
      $cedula: String!
      $direccion: String
      $direccion2: String
      $email: String
      $nombre: String!
      $nombre2: String
      $observacion: String
      $telf1: String
      $telf2: String
      $telf3: String
    ) {
      insert_cliente_one(
        object: {
          cedula: $cedula,
          direccion: $direccion ,
          direccion2: $direccion2 ,
          email: $email ,
          nombre: $nombre ,
          nombre2: $nombre2 ,
          observacion: $observacion,
          telf1: $telf1,
          telf2: $telf2,
          telf3: $telf3
        }
      ) {
        id
      }
    }
  `}}return t.\u0275fac=function(e){return Ct(e||t)},t.\u0275prov=ht.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Ct=ht.Zb(xt);let It=(()=>{class t extends gt.d{constructor(){super(...arguments),this.document=yt.a`
    mutation MyMutation(
      $id: Int!
      $cedula: String!
      $direccion: String
      $direccion2: String
      $email: String
      $nombre: String!
      $nombre2: String
      $observacion: String
      $telf1: String
      $telf2: String
      $telf3: String
    ) {
      update_cliente(
        _set: {
          cedula: $cedula
          direccion: $direccion
          direccion2: $direccion2
          email: $email
          nombre: $nombre
          nombre2: $nombre2
          observacion: $observacion
          telf1: $telf1
          telf2: $telf2
          telf3: $telf3
        }
        where: { id: { _eq: $id } }
      ) {
        returning {
          id
        }
      }
    }
  `}}return t.\u0275fac=function(e){return St(e||t)},t.\u0275prov=ht.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const St=ht.Zb(It);var Ft=i("XiUz"),Xt=i("f0Cb"),Wt=i("qFsG");function kt(t,e){if(1&t&&(ht.Xb(0,"h2",24),ht.Ic(1),ht.Wb()),2&t){const t=ht.jc();ht.Fb(1),ht.Kc(" ",t.form.get("nombre").value+" "+t.form.get("nombre2").value," ")}}function $t(t,e){1&t&&(ht.Xb(0,"h2",24),ht.Ic(1," Nuevo Cliente "),ht.Wb())}function wt(t,e){1&t&&(ht.Xb(0,"button",25),ht.Ic(1," CREAR CLIENTE "),ht.Wb())}function Mt(t,e){1&t&&(ht.Xb(0,"button",25),ht.Ic(1," GUARDAR CAMBIOS "),ht.Wb())}let Gt=(()=>{class t{constructor(t,e,i,o,c,n){this.defaults=t,this.dialogRef=e,this.fb=i,this.snackBar=o,this.createClienteGQL=c,this.updateClienteGQL=n,this.mode="create",this.icMoreVert=tt.a,this.icClose=it.a,this.icPrint=ct.a,this.icDownload=rt.a,this.icDelete=w.a,this.icPerson=lt.a,this.icMyLocation=bt.a,this.icLocationCity=mt.a,this.icEditLocation=ft.a,this.icPhone=V.a}ngOnInit(){this.defaults?this.mode="update":this.defaults={},this.form=this.fb.group({id:[t.id++],cedula:[this.defaults.cedula||""],direccion:[this.defaults.direccion||""],direccion2:[this.defaults.direccion2||""],email:[this.defaults.email||""],nombre:[this.defaults.nombre||""],nombre2:[this.defaults.nombre2||""],observacion:[this.defaults.observacion||""],telf1:[this.defaults.telf1||""],telf2:[this.defaults.telf2||""],telf3:[this.defaults.telf3||""]})}save(){"create"===this.mode?this.createCustomer():"update"===this.mode&&this.updateCustomer()}onlyNumberKey(t){return 8==t.charCode||0==t.charCode?null:t.charCode>=48&&t.charCode<=57}openSnackbar(t){this.snackBar.open(t,"cerrar",{duration:3e3,horizontalPosition:"right"})}validateForm(t){if(this.validarCedula(t.cedula)){if(t.nombre.length>0&&null!=t.nombre&&null!=t.nombre)return!0;this.openSnackbar("Nombre no v\xe1lido")}return!1}createCustomer(){let t;t=this.form.value,this.validateForm(t)&&this.createClienteGQL.mutate({cedula:t.cedula,direccion:t.direccion,direccion2:t.direccion2,email:t.email,nombre:t.nombre,nombre2:t.nombre2,observacion:t.observacion,telf1:t.telf1,telf2:t.telf2,telf3:t.telf3}).subscribe(({})=>{this.openSnackbar("Cliente Guardado Exitosamente"),this.dialogRef.close(t)},t=>{console.log("Error al Guardar el cliente",t),this.openSnackbar("Error al Guardar el cliente")})}validarCedula(t){if(13==t.length&&"001"==t.substring(10,13)&&(t=t.substring(0,10)),10==t.length){let e=t.substring(0,2);if(parseInt(e)>=1&&parseInt(e)<=24){let e=parseInt(t.substring(9,10)),i=parseInt(t.substring(1,2))+parseInt(t.substring(3,4))+parseInt(t.substring(5,6))+parseInt(t.substring(7,8)),o=parseInt(t.substring(0,1));o*=2,o>9&&(o-=9);let c=parseInt(t.substring(2,3));c*=2,c>9&&(c-=9);let n=parseInt(t.substring(4,5));n*=2,n>9&&(n-=9);let r=parseInt(t.substring(6,7));r*=2,r>9&&(r-=9);let a=parseInt(t.substring(8,9));a*=2,a>9&&(a-=9);let l=i+(o+c+n+r+a),s=String(l).substring(0,1),b=10*(parseInt(s)+1)-l;if(10==b&&(b=0),b==e)return!0;this.openSnackbar("la cedula:"+t+" es incorrecta")}else this.openSnackbar("Esta cedula no pertenece a ninguna region")}else this.openSnackbar("A esa c\xe9dula le falta o le sobran n\xfameros ");return!1}updateCustomer(){let t;t=this.form.value,t.id=this.defaults.id,this.validateForm(t)&&this.updateClienteGQL.mutate({id:t.id,cedula:t.cedula,direccion:t.direccion,direccion2:t.direccion2,email:t.email,nombre:t.nombre,nombre2:t.nombre2,observacion:t.observacion,telf1:t.telf1,telf2:t.telf2,telf3:t.telf3}).subscribe(({})=>{this.openSnackbar("Cliente Guardado Exitosamente"),this.dialogRef.close(t)},t=>{console.log("Error al Guardar el cliente",t),this.openSnackbar("Error al Guardar el cliente")})}isCreateMode(){return"create"===this.mode}isUpdateMode(){return"update"===this.mode}}return t.id=100,t.\u0275fac=function(e){return new(e||t)(ht.Rb(Z.a),ht.Rb(Z.g),ht.Rb(m.d),ht.Rb(pt.a),ht.Rb(xt),ht.Rb(It))},t.\u0275cmp=ht.Lb({type:t,selectors:[["vex-customer-create-update"]],decls:65,vars:15,consts:[[3,"formGroup","ngSubmit"],["fxLayout","row","fxLayoutAlign","start center","mat-dialog-title",""],["class","headline m-0","fxFlex","auto",4,"ngIf"],["mat-dialog-close","","mat-icon-button","","type","button",1,"text-secondary"],[3,"icIcon"],[1,"-mx-6","text-border"],["fxLayout","column"],["fxLayout","column","fxLayout.gt-sm","row","fxLayoutGap.gt-sm","24px"],["fxFlex","",1,"mt-6"],["cdkFocusInitial","","formControlName","nombre","matInput","","required",""],["matPrefix","",1,"mr-3",3,"icIcon"],["formControlName","nombre2","matInput",""],["fxFlex",""],["formControlName","cedula","matInput","","type","text","required","",3,"keypress"],["formControlName","email","matInput","","type","email"],["formControlName","telf1","matInput",""],["formControlName","telf2","matInput",""],["formControlName","telf3","matInput",""],["formControlName","direccion","matInput",""],["formControlName","direccion2","matInput",""],["formControlName","observacion","matInput",""],["align","end"],["mat-button","","mat-dialog-close","","type","button"],["color","primary","mat-button","","type","submit",4,"ngIf"],["fxFlex","auto",1,"headline","m-0"],["color","primary","mat-button","","type","submit"]],template:function(t,e){1&t&&(ht.Xb(0,"form",0),ht.fc("ngSubmit",(function(){return e.save()})),ht.Xb(1,"div",1),ht.Gc(2,kt,2,1,"h2",2),ht.Gc(3,$t,2,0,"h2",2),ht.Xb(4,"button",3),ht.Sb(5,"mat-icon",4),ht.Wb(),ht.Wb(),ht.Sb(6,"mat-divider",5),ht.Xb(7,"mat-dialog-content",6),ht.Xb(8,"div",7),ht.Xb(9,"mat-form-field",8),ht.Xb(10,"mat-label"),ht.Ic(11,"Nombre"),ht.Wb(),ht.Sb(12,"input",9),ht.Sb(13,"mat-icon",10),ht.Wb(),ht.Xb(14,"mat-form-field",8),ht.Xb(15,"mat-label"),ht.Ic(16,"Apellido"),ht.Wb(),ht.Sb(17,"input",11),ht.Sb(18,"mat-icon",10),ht.Wb(),ht.Wb(),ht.Xb(19,"div",7),ht.Xb(20,"mat-form-field",12),ht.Xb(21,"mat-label"),ht.Ic(22,"C\xe9dula"),ht.Wb(),ht.Xb(23,"input",13),ht.fc("keypress",(function(t){return e.onlyNumberKey(t)})),ht.Wb(),ht.Sb(24,"mat-icon",10),ht.Wb(),ht.Xb(25,"mat-form-field",12),ht.Xb(26,"mat-label"),ht.Ic(27,"Email"),ht.Wb(),ht.Sb(28,"input",14),ht.Sb(29,"mat-icon",10),ht.Wb(),ht.Wb(),ht.Xb(30,"div",7),ht.Xb(31,"mat-form-field",12),ht.Xb(32,"mat-label"),ht.Ic(33,"telf1"),ht.Wb(),ht.Sb(34,"input",15),ht.Sb(35,"mat-icon",10),ht.Wb(),ht.Xb(36,"mat-form-field",12),ht.Xb(37,"mat-label"),ht.Ic(38,"telf2"),ht.Wb(),ht.Sb(39,"input",16),ht.Sb(40,"mat-icon",10),ht.Wb(),ht.Xb(41,"mat-form-field",12),ht.Xb(42,"mat-label"),ht.Ic(43,"telf3"),ht.Wb(),ht.Sb(44,"input",17),ht.Sb(45,"mat-icon",10),ht.Wb(),ht.Wb(),ht.Xb(46,"mat-form-field"),ht.Xb(47,"mat-label"),ht.Ic(48,"Direccion"),ht.Wb(),ht.Sb(49,"input",18),ht.Sb(50,"mat-icon",10),ht.Wb(),ht.Xb(51,"mat-form-field"),ht.Xb(52,"mat-label"),ht.Ic(53,"Direccion 2"),ht.Wb(),ht.Sb(54,"input",19),ht.Sb(55,"mat-icon",10),ht.Wb(),ht.Xb(56,"mat-form-field"),ht.Xb(57,"mat-label"),ht.Ic(58,"Notas"),ht.Wb(),ht.Sb(59,"textarea",20),ht.Wb(),ht.Wb(),ht.Xb(60,"mat-dialog-actions",21),ht.Xb(61,"button",22),ht.Ic(62,"CANCELAR"),ht.Wb(),ht.Gc(63,wt,2,0,"button",23),ht.Gc(64,Mt,2,0,"button",23),ht.Wb(),ht.Wb()),2&t&&(ht.oc("formGroup",e.form),ht.Fb(2),ht.oc("ngIf",e.form.get("nombre").value||e.form.get("nombre2").value),ht.Fb(1),ht.oc("ngIf",!e.form.get("nombre").value&&!e.form.get("nombre2").value),ht.Fb(2),ht.oc("icIcon",e.icClose),ht.Fb(8),ht.oc("icIcon",e.icPerson),ht.Fb(5),ht.oc("icIcon",e.icPerson),ht.Fb(6),ht.oc("icIcon",e.icMyLocation),ht.Fb(5),ht.oc("icIcon",e.icLocationCity),ht.Fb(6),ht.oc("icIcon",e.icPhone),ht.Fb(5),ht.oc("icIcon",e.icPhone),ht.Fb(5),ht.oc("icIcon",e.icPhone),ht.Fb(5),ht.oc("icIcon",e.icEditLocation),ht.Fb(5),ht.oc("icIcon",e.icEditLocation),ht.Fb(8),ht.oc("ngIf",e.isCreateMode()),ht.Fb(1),ht.oc("ngIf",e.isUpdateMode()))},directives:[m.u,m.n,m.h,Ft.e,Ft.d,Z.h,o.n,b.b,Z.d,s.a,y.a,Xt.a,Z.e,Ft.f,I.c,Ft.b,I.g,m.c,Wt.b,m.m,m.g,m.s,I.h,Z.c],styles:[""]}),t})(),zt=(()=>{class t extends gt.d{constructor(){super(...arguments),this.document=yt.a`
    mutation MyMutation($id: Int!) {
        delete_cliente_by_pk(id: $id) {
        id
      }
    }
  `}}return t.\u0275fac=function(e){return jt(e||t)},t.\u0275prov=ht.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const jt=ht.Zb(zt);var Lt=i("ZuBe"),Dt=i("uwSD"),Et=i("Z998"),At=i("C0s9"),Ht=i("znSr");function Pt(t,e){1&t&&(ht.Xb(0,"span"),ht.Ic(1,"Clientes"),ht.Wb())}function Nt(t,e){1&t&&(ht.Xb(0,"span"),ht.Ic(1,"s"),ht.Wb())}function Vt(t,e){1&t&&(ht.Xb(0,"span"),ht.Ic(1,"s"),ht.Wb())}function Rt(t,e){if(1&t&&(ht.Xb(0,"span"),ht.Ic(1),ht.Gc(2,Nt,2,0,"span",8),ht.Ic(3," seleccionado"),ht.Gc(4,Vt,2,0,"span",8),ht.Wb()),2&t){const t=ht.jc();ht.Fb(1),ht.Kc("",t.selection.selected.length," Cliente"),ht.Fb(1),ht.oc("ngIf",t.selection.selected.length>1),ht.Fb(2),ht.oc("ngIf",t.selection.selected.length>1)}}function Ot(t,e){if(1&t){const t=ht.Yb();ht.Xb(0,"div",36),ht.Xb(1,"button",37),ht.fc("click",(function(){ht.xc(t);const e=ht.jc();return e.deleteCustomers(e.selection.selected)})),ht.Sb(2,"mat-icon",14),ht.Wb(),ht.Wb()}if(2&t){const t=ht.jc();ht.Fb(2),ht.oc("icIcon",t.icDelete)}}function Tt(t,e){if(1&t){const t=ht.Yb();ht.Xb(0,"th",38),ht.Xb(1,"mat-checkbox",39),ht.fc("change",(function(e){ht.xc(t);const i=ht.jc();return e?i.masterToggle():null})),ht.Wb(),ht.Wb()}if(2&t){const t=ht.jc();ht.Fb(1),ht.oc("checked",t.selection.hasValue()&&t.isAllSelected())("indeterminate",t.selection.hasValue()&&!t.isAllSelected())}}function _t(t,e){if(1&t){const t=ht.Yb();ht.Xb(0,"td",40),ht.Xb(1,"mat-checkbox",41),ht.fc("change",(function(i){ht.xc(t);const o=e.$implicit,c=ht.jc();return i?c.selection.toggle(o):null}))("click",(function(e){return ht.xc(t),e.stopPropagation()})),ht.Wb(),ht.Wb()}if(2&t){const t=e.$implicit,i=ht.jc();ht.Fb(1),ht.oc("checked",i.selection.isSelected(t))}}function Ut(t,e){if(1&t&&(ht.Xb(0,"th",46),ht.Ic(1),ht.Wb()),2&t){const t=ht.jc(2).$implicit;ht.Fb(1),ht.Kc(" ",t.label," ")}}function Qt(t,e){if(1&t&&(ht.Xb(0,"td",47),ht.Ic(1),ht.Wb()),2&t){const t=e.$implicit,i=ht.jc(2).$implicit;ht.oc("ngClass",i.cssClasses),ht.Fb(1),ht.Kc(" ",t[i.property]," ")}}function Yt(t,e){if(1&t&&(ht.Vb(0,43),ht.Gc(1,Ut,2,1,"th",44),ht.Gc(2,Qt,2,2,"td",45),ht.Ub()),2&t){const t=ht.jc().$implicit;ht.oc("matColumnDef",t.property)}}function Kt(t,e){if(1&t&&(ht.Vb(0),ht.Gc(1,Yt,3,1,"ng-container",42),ht.Ub()),2&t){const t=e.$implicit;ht.Fb(1),ht.oc("ngIf","text"===t.type)}}function Bt(t,e){1&t&&ht.Sb(0,"th",48)}function qt(t,e){if(1&t){const t=ht.Yb();ht.Xb(0,"td",49),ht.Xb(1,"div",50),ht.Xb(2,"a",51),ht.fc("click",(function(e){return ht.xc(t),e.stopPropagation()})),ht.Sb(3,"mat-icon",52),ht.Wb(),ht.Xb(4,"a",53),ht.fc("click",(function(e){return ht.xc(t),e.stopPropagation()})),ht.Sb(5,"mat-icon",52),ht.Wb(),ht.Xb(6,"a",53),ht.fc("click",(function(e){return ht.xc(t),e.stopPropagation()})),ht.Sb(7,"mat-icon",52),ht.Wb(),ht.Wb(),ht.Wb()}if(2&t){const t=ht.jc();ht.Fb(3),ht.oc("icIcon",t.icPhone),ht.Fb(2),ht.oc("icIcon",t.icMail),ht.Fb(2),ht.oc("icIcon",t.icMap)}}function Zt(t,e){1&t&&ht.Sb(0,"th",48)}const Jt=function(t){return{customer:t}};function te(t,e){if(1&t){const t=ht.Yb();ht.Xb(0,"td",54),ht.Xb(1,"button",55),ht.fc("click",(function(e){return ht.xc(t),e.stopPropagation()})),ht.Sb(2,"mat-icon",14),ht.Wb(),ht.Wb()}if(2&t){const t=e.$implicit,i=ht.jc(),o=ht.vc(42);ht.Fb(1),ht.oc("matMenuTriggerData",ht.sc(3,Jt,t))("matMenuTriggerFor",o),ht.Fb(1),ht.oc("icIcon",i.icMoreHoriz)}}function ee(t,e){1&t&&ht.Sb(0,"tr",56)}function ie(t,e){if(1&t){const t=ht.Yb();ht.Xb(0,"tr",57),ht.fc("click",(function(){ht.xc(t);const i=e.$implicit;return ht.jc().updateCustomer(i)})),ht.Wb()}2&t&&ht.oc("@fadeInUp",void 0)}function oe(t,e){if(1&t){const t=ht.Yb();ht.Xb(0,"button",58),ht.fc("click",(function(i){ht.xc(t);const o=e.$implicit;return ht.jc().toggleColumnVisibility(o,i)})),ht.Xb(1,"mat-checkbox",59),ht.fc("click",(function(e){return ht.xc(t),e.stopPropagation()}))("ngModelChange",(function(i){return ht.xc(t),e.$implicit.visible=i})),ht.Ic(2),ht.Wb(),ht.Wb()}if(2&t){const t=e.$implicit;ht.Fb(1),ht.oc("ngModel",t.visible),ht.Fb(1),ht.Kc(" ",t.label," ")}}function ce(t,e){if(1&t){const t=ht.Yb();ht.Xb(0,"button",60),ht.fc("click",(function(){ht.xc(t);const i=e.customer;return ht.jc().updateCustomer(i)})),ht.Sb(1,"mat-icon",14),ht.Xb(2,"span"),ht.Ic(3,"Modificar"),ht.Wb(),ht.Wb(),ht.Xb(4,"button",60),ht.fc("click",(function(){ht.xc(t);const i=e.customer;return ht.jc().deleteCustomer(i)})),ht.Sb(5,"mat-icon",14),ht.Xb(6,"span"),ht.Ic(7,"Eliminar"),ht.Wb(),ht.Wb()}if(2&t){const t=ht.jc();ht.Fb(1),ht.oc("icIcon",t.icEdit),ht.Fb(4),ht.oc("icIcon",t.icDelete)}}const ne=function(){return["App","Clientes"]},re=q.a,ae=[{path:"",component:(()=>{let t=class{constructor(t,e,i,o){this.dialog=t,this.apollo=e,this.deleteClienteGQL=i,this.router=o,this.layoutCtrl=new m.e("boxed"),this.subject$=new U.a(1),this.data$=this.subject$.asObservable(),this.columns=[{label:"Checkbox",property:"checkbox",type:"checkbox",visible:!0},{label:"cedula",property:"cedula",type:"text",visible:!0},{label:"nombre",property:"nombre",type:"text",visible:!0},{label:"nombre2",property:"nombre2",type:"text",visible:!0},{label:"email",property:"email",type:"text",visible:!1},{label:"telf1",property:"telf1",type:"text",visible:!0},{label:"telf2",property:"telf2",type:"text",visible:!0},{label:"telf3",property:"telf3",type:"text",visible:!1},{label:"direccion",property:"direccion",type:"text",visible:!0},{label:"direccion2",property:"direccion2",type:"text",visible:!1},{label:"observacion",property:"observacion",type:"text",visible:!0},{label:"Actions",property:"actions",type:"button",visible:!0}],this.pageSize=10,this.pageSizeOptions=[5,10,20,50],this.selection=new S.c(!0,[]),this.searchCtrl=new m.e,this.icPhone=V.a,this.icMail=O.a,this.icMap=_.a,this.icEdit=k.a,this.icSearch=G.a,this.icDelete=w.a,this.icAdd=j.a,this.icFilterList=D.a,this.icMoreHoriz=A.a,this.icFolder=P.a}get visibleColumns(){return this.columns.filter(t=>t.visible).map(t=>t.property)}getData(){return this.data=this.apollo.watchQuery({query:re}).valueChanges.pipe(Object(K.a)(({data:t})=>t.cliente)),this.data}ngOnInit(){this.getData().subscribe(t=>{this.subject$.next(t)}),this.dataSource=new r.k,this.data$.pipe(Object(Y.a)(Boolean)).subscribe(t=>{this.customers=t,this.dataSource.data=t}),this.searchCtrl.valueChanges.pipe(Object(Q.b)(this)).subscribe(t=>this.onFilterChange(t))}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}createCustomer(){this.dialog.open(Gt).afterClosed().subscribe(t=>{t&&(this.customers.unshift(new B(t)),this.subject$.next(this.customers))})}updateCustomer(t){this.dialog.open(Gt,{data:t}).afterClosed().subscribe(t=>{if(t){const e=this.customers.findIndex(e=>e.id===t.id);this.customers[e]=new B(t),this.subject$.next(this.customers)}})}deleteCustomer(t){this.deleteClienteGQL.mutate({id:t.id}).subscribe(),this.customers.splice(this.customers.findIndex(e=>e.id===t.id),1),this.selection.deselect(t),this.subject$.next(this.customers)}deleteCustomers(t){t.forEach(t=>this.deleteCustomer(t))}onFilterChange(t){this.dataSource&&(t=(t=t.trim()).toLowerCase(),this.dataSource.filter=t)}toggleColumnVisibility(t,e){e.stopPropagation(),e.stopImmediatePropagation(),t.visible=!t.visible}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource.data.forEach(t=>this.selection.select(t))}trackByProperty(t,e){return e.property}};return t.\u0275fac=function(e){return new(e||t)(ht.Rb(Z.b),ht.Rb(gt.b),ht.Rb(zt),ht.Rb(x.f))},t.\u0275cmp=ht.Lb({type:t,selectors:[["vex-aio-table"]],viewQuery:function(t,e){var i;1&t&&(ht.Cc(n.a,!0),ht.Cc(a.a,!0)),2&t&&(ht.uc(i=ht.gc())&&(e.paginator=i.first),ht.uc(i=ht.gc())&&(e.sort=i.first))},inputs:{columns:"columns"},features:[ht.Eb([{provide:I.b,useValue:{appearance:"standard"}}])],decls:44,vars:28,consts:[["fxLayout","column","fxLayoutAlign","center start",1,"pb-16"],[1,"w-full","flex","justify-between"],[1,"title","mt-0","mb-1"],[3,"crumbs"],[1,"-mt-6"],[1,"card","overflow-auto","-mt-16"],["fxLayout","row","fxLayoutAlign","start center",1,"bg-app-bar","px-6","h-16","border-b","sticky","left-0"],["fxFlex","none","fxHide.xs","",1,"title","my-0","ltr:pr-4","rtl:pl-4","ltr:mr-4","rtl:ml-4","ltr:border-r","rtl:border-l"],[4,"ngIf"],["class","mr-4 pr-4 border-r","fxFlex","none",4,"ngIf"],["fxFlex","400px","fxFlex.lt-md","auto","fxHide.xs","","fxLayout","row","fxLayoutAlign","start center",1,"bg-card","rounded-full","border","px-4"],["size","20px",3,"icIcon"],["placeholder","Buscar...","type","search",1,"px-4","py-3","border-0","outline-none","w-full","bg-transparent",3,"formControl"],["color","primary","fxFlex","none","mat-mini-fab","","matTooltip","Crear Cliente","type","button",1,"ml-4",3,"click"],[3,"icIcon"],["fxFlex",""],["fxFlex","none","fxHide.gt-xs","","mat-icon-button","","type","button",1,"ml-4"],["fxFlex","none","mat-icon-button","","matTooltip","Editar Columnas","type","button",1,"ml-4",3,"matMenuTriggerFor"],["mat-table","","matSort","",1,"w-full",3,"dataSource"],["matColumnDef","checkbox"],["mat-header-cell","",4,"matHeaderCellDef"],["class","w-4","mat-cell","",4,"matCellDef"],[4,"ngFor","ngForOf","ngForTrackBy"],["matColumnDef","contact"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","actions"],["class","w-10 text-secondary","mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["class","hover:bg-hover trans-ease-out cursor-pointer","mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],[1,"sticky","left-0",3,"pageSizeOptions","pageSize"],["xPosition","before","yPosition","below"],["columnFilterMenu","matMenu"],["class","checkbox-item mat-menu-item",3,"click",4,"ngFor","ngForOf"],["actionsMenu","matMenu"],["matMenuContent",""],["fxFlex","none",1,"mr-4","pr-4","border-r"],["color","primary","mat-icon-button","","matTooltip","Delete selected","type","button",3,"click"],["mat-header-cell",""],["color","primary",3,"checked","indeterminate","change"],["mat-cell","",1,"w-4"],["color","primary",3,"checked","change","click"],[3,"matColumnDef",4,"ngIf"],[3,"matColumnDef"],["class","uppercase","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",3,"ngClass",4,"matCellDef"],["mat-header-cell","","mat-sort-header","",1,"uppercase"],["mat-cell","",3,"ngClass"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[1,"flex"],["mat-icon-button","",1,"w-8","h-8","leading-none","flex","items-center","justify-center","hover:bg-hover",3,"click"],["size","18px",3,"icIcon"],["mat-icon-button","",1,"w-8","h-8","leading-none","flex","items-center","justify-center","ml-1","hover:bg-hover",3,"click"],["mat-cell","",1,"w-10","text-secondary"],["mat-icon-button","","type","button",3,"matMenuTriggerData","matMenuTriggerFor","click"],["mat-header-row",""],["mat-row","",1,"hover:bg-hover","trans-ease-out","cursor-pointer",3,"click"],[1,"checkbox-item","mat-menu-item",3,"click"],["color","primary",3,"ngModel","click","ngModelChange"],["mat-menu-item","",3,"click"]],template:function(t,e){if(1&t&&(ht.Xb(0,"vex-page-layout"),ht.Xb(1,"vex-page-layout-header",0),ht.Xb(2,"div",1),ht.Xb(3,"div"),ht.Xb(4,"h1",2),ht.Ic(5,"Lista de Clientes"),ht.Wb(),ht.Sb(6,"vex-breadcrumbs",3),ht.Wb(),ht.Wb(),ht.Wb(),ht.Xb(7,"vex-page-layout-content",4),ht.Xb(8,"div",5),ht.Xb(9,"div",6),ht.Xb(10,"h2",7),ht.Gc(11,Pt,2,0,"span",8),ht.Gc(12,Rt,5,3,"span",8),ht.Wb(),ht.Gc(13,Ot,3,1,"div",9),ht.Xb(14,"div",10),ht.Sb(15,"ic-icon",11),ht.Sb(16,"input",12),ht.Wb(),ht.Xb(17,"button",13),ht.fc("click",(function(){return e.createCustomer()})),ht.Sb(18,"mat-icon",14),ht.Wb(),ht.Sb(19,"span",15),ht.Xb(20,"button",16),ht.Sb(21,"mat-icon",14),ht.Wb(),ht.Xb(22,"button",17),ht.Sb(23,"mat-icon",14),ht.Wb(),ht.Wb(),ht.Xb(24,"table",18),ht.Vb(25,19),ht.Gc(26,Tt,2,2,"th",20),ht.Gc(27,_t,2,1,"td",21),ht.Ub(),ht.Gc(28,Kt,2,1,"ng-container",22),ht.Vb(29,23),ht.Gc(30,Bt,1,0,"th",24),ht.Gc(31,qt,8,3,"td",25),ht.Ub(),ht.Vb(32,26),ht.Gc(33,Zt,1,0,"th",24),ht.Gc(34,te,3,5,"td",27),ht.Ub(),ht.Gc(35,ee,1,0,"tr",28),ht.Gc(36,ie,1,1,"tr",29),ht.Wb(),ht.Sb(37,"mat-paginator",30),ht.Wb(),ht.Wb(),ht.Wb(),ht.Xb(38,"mat-menu",31,32),ht.Gc(40,oe,3,2,"button",33),ht.Wb(),ht.Xb(41,"mat-menu",31,34),ht.Gc(43,ce,8,2,"ng-template",35),ht.Wb()),2&t){const t=ht.vc(39);ht.Fb(2),ht.Jb("container","boxed"===e.layoutCtrl.value)("px-gutter","fullwidth"===e.layoutCtrl.value),ht.Fb(4),ht.oc("crumbs",ht.rc(27,ne)),ht.Fb(1),ht.Jb("container","boxed"===e.layoutCtrl.value)("px-gutter","fullwidth"===e.layoutCtrl.value),ht.Fb(4),ht.oc("ngIf",e.selection.isEmpty()),ht.Fb(1),ht.oc("ngIf",e.selection.hasValue()),ht.Fb(1),ht.oc("ngIf",e.selection.hasValue()),ht.Fb(2),ht.oc("icIcon",e.icSearch),ht.Fb(1),ht.oc("formControl",e.searchCtrl),ht.Fb(2),ht.oc("icIcon",e.icAdd),ht.Fb(3),ht.oc("icIcon",e.icSearch),ht.Fb(1),ht.oc("matMenuTriggerFor",t),ht.Fb(1),ht.oc("icIcon",e.icFilterList),ht.Fb(1),ht.oc("@stagger",void 0)("dataSource",e.dataSource),ht.Fb(4),ht.oc("ngForOf",e.columns)("ngForTrackBy",e.trackByProperty),ht.Fb(7),ht.oc("matHeaderRowDef",e.visibleColumns),ht.Fb(1),ht.oc("matRowDefColumns",e.visibleColumns),ht.Fb(1),ht.oc("pageSizeOptions",e.pageSizeOptions)("pageSize",e.pageSize),ht.Fb(3),ht.oc("ngForOf",e.columns)}},directives:[Lt.a,Dt.a,Ft.e,Ft.d,Et.a,At.a,Ft.b,Ht.b,o.n,y.a,m.c,m.m,m.f,b.b,d.a,s.a,u.d,r.j,a.a,r.c,r.e,r.b,o.m,r.g,r.i,n.a,u.e,u.a,r.d,l.a,r.a,a.b,o.k,Ht.a,b.a,r.f,r.h,m.p,u.b],styles:[""],data:{animation:[F.a,X.a]}}),t=Object(C.a)([Object(Q.a)()],t),t})(),data:{toolbarShadowEnabled:!0}}];let le=(()=>{class t{}return t.\u0275mod=ht.Pb({type:t}),t.\u0275inj=ht.Ob({factory:function(e){return new(e||t)},imports:[[x.i.forChild(ae)],x.i]}),t})();var se=i("QibW");let be=(()=>{class t{}return t.\u0275mod=ht.Pb({type:t}),t.\u0275inj=ht.Ob({factory:function(e){return new(e||t)},imports:[[o.c,m.r,c.a,Z.f,Wt.c,b.c,s.b,se.c,f.b,u.c,y.b,pt.b,Xt.b]]}),t})(),ue=(()=>{class t{}return t.\u0275mod=ht.Pb({type:t}),t.\u0275inj=ht.Ob({factory:function(e){return new(e||t)},imports:[[o.c,le,p.a,c.a,v.a,be,n.b,r.l,a.c,l.b,s.b,b.c,u.c,y.b,m.i,d.b,m.r,g.a,f.b,h.a]]}),t})()},EPGw:function(t,e){e.__esModule=!0,e.default={body:'<path opacity=".3" d="M14.11 14H8V7.91l.59-.59L11.91 4C8.61 4.05 6 6.6 6 10.2c0 2.34 1.95 5.44 6 9.14c4.05-3.7 6-6.79 6-9.14v-.08l-3.3 3.3l-.59.58z" fill="currentColor"/><path d="M18.17 4.91L17.1 3.84l-5.55 5.55v1.08h1.08l5.54-5.56zM16 2.74l1.29-1.29c.58-.59 1.52-.59 2.11-.01l.01.01l1.15 1.15c.59.59.59 1.54 0 2.12l-.68.68l-.02.02l-.58.58l-6 6H10V8.74l6-6zm-2.28-.55l-.55.55l-1.27 1.27c-3.3.05-5.9 2.6-5.9 6.2c0 2.34 1.95 5.44 6 9.14c4.05-3.7 6-6.79 6-9.14v-.1l1.8-1.8c.13.6.2 1.24.2 1.9c0 3.32-2.67 7.25-8 11.8c-5.33-4.55-8-8.48-8-11.8c0-4.98 3.8-8.2 8-8.2c.58 0 1.16.06 1.72.18z" fill="currentColor"/><path opacity=".3" d="M18.17 4.91L17.1 3.84l-5.55 5.55v1.08h1.08z" fill="currentColor"/>',width:24,height:24}},kSvQ:function(t,e){e.__esModule=!0,e.default={body:'<path d="M13 3.06V1h-2v2.06A8.994 8.994 0 0 0 3.06 11H1v2h2.06A8.994 8.994 0 0 0 11 20.94V23h2v-2.06A8.994 8.994 0 0 0 20.94 13H23v-2h-2.06A8.994 8.994 0 0 0 13 3.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7s7 3.13 7 7s-3.13 7-7 7z" fill="currentColor"/><circle cx="12" cy="12" opacity=".3" r="2" fill="currentColor"/><path d="M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4s4-1.79 4-4s-1.79-4-4-4zm0 6c-1.1 0-2-.9-2-2s.9-2 2-2s2 .9 2 2s-.9 2-2 2z" fill="currentColor"/>',width:24,height:24}},yHIK:function(t,e){e.__esModule=!0,e.default={body:'<path opacity=".3" d="M8 5h8v3H8z" fill="currentColor"/><circle cx="18" cy="11.5" r="1" fill="currentColor"/><path d="M19 8h-1V3H6v5H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3zM8 5h8v3H8V5zm8 14H8v-4h8v4zm4-4h-2v-2H6v2H4v-4c0-.55.45-1 1-1h14c.55 0 1 .45 1 1v4z" fill="currentColor"/><path opacity=".3" d="M6 13h12v2h2v-4c0-.55-.45-1-1-1H5c-.55 0-1 .45-1 1v4h2v-2zm12-2.5c.55 0 1 .45 1 1s-.45 1-1 1s-1-.45-1-1s.45-1 1-1z" fill="currentColor"/>',width:24,height:24}}}]);